# ADR-009: スキルの定義と拡張方針

## 1. ステータス
**承認済み**

## 2. コンテキスト
SNSWシステムは、単なる音声生成ツールではなく、診断・評価・学習・変換の各フェーズを「スキル」として定義し、それらを組み合わせてエージェントを進化させるオーケストレーターである。従来の単一機能（wav2mp3等）の定義を廃止し、システムが備えるべきコア・スキルを再定義する必要がある。

## 3. 意思決定事項

システムが提供する「スキル」を以下の3つのカテゴリに分類し、拡張可能なインターフェースを維持する。

### 1. 生成スキル (Generation Skills)
- **XTTS v2 Skill:** 多言語・高品質な零ショット音声合成。
- **GPT-SoVITS Skill:** 少量データからの精密な話者クローン。
- **Fish-Speech Skill:** 最新のSOTAモデルによる自然な発話生成。
- **StyleTTS2 Skill:** 高速かつ表現力豊かな音声合成。

### 2. 評価・分析スキル (Evaluation & Analysis Skills)
- **Inspector Skill:** 音声の物理特性（RMS, ノイズ, 無音区間）の解析。
- **Diagnostician Skill:** 音声品質の多角的評価（MOS予測, 話者類似度）と改善策の提示。
- **Batch Stats Skill:** 複数モデル・複数世代の一括統計・比較分析。

### 3. プロセッシングスキル (Processing Skills)
- **Format Converter:** WAV/MP3/FLAC 等のフォーマット変換（ffmpeg）。
- **Denoising:** 音声からのノイズ除去。
- **Alignment:** テキストと音声のタイミング合わせ。

## 4. スキルの拡張ルール
- 新しいスキルを追加する際は、`src/tools/` 配下に独立したクラスとして実装する。
- すべてのスキルは、入出力に標準的なデータ形式（JSON等）を用い、他のスキルやエージェントから呼び出し可能にする。

## 5. 結果
- システムの機能がモジュール化され、新しいモデルや評価手法の導入が容易になる。
- エージェント（LOOP等）が、タスクに応じて動的にスキルを選択・実行できるようになる。
